<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="portal_my_task_hide_contact_info" inherit_id="project.portal_my_task"
              name="Hide Contact Info in Task Portal">

        <!-- Replace Assignee Block using stable text "Assignees Task" -->
        <xpath expr="//strong[text()='Assignees']/.." position="replace">
            <div class="col-12 col-md-12 pb-2" t-if="task.user_ids">
                <strong>Assignees</strong>
                <t t-foreach="task.user_ids" t-as="user">
                    <div class="d-flex mb-3 flex-nowrap mt-1">
                        <img class="rounded-circle o_portal_contact_img"
                             t-att-src="image_data_uri(user.avatar_128)" alt="Contact"/>
                        <div class="ms-2">
                            <div t-esc="user" t-options='{"widget": "contact", "fields": ["name"]}'/>
                        </div>
                    </div>
                </t>
            </div>
        </xpath>

        <xpath expr="//strong[text()='Customer']/.." position="replace">
            <div class="col-12 col-md-12 pb-2" t-if="task.partner_id">
                <strong>Customer</strong>
                <div class="d-flex flex-nowrap mt-1">
                    <img class="rounded-circle o_portal_contact_img"
                         t-att-src="image_data_uri(task.partner_id.avatar_128)" alt="Contact"/>
                    <div class="ms-2">
                        <div t-field="task.partner_id"
                             t-options='{"widget": "contact", "fields": ["name"]}'/>
                    </div>
                </div>
            </div>
        </xpath>

    </template>
</odoo>